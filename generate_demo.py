import os
from openai import OpenAI

field = f"""
    文本分类任务：需要从文本中提取以下信息：
    1. 文本关键词：能反映文本主要内容的关键词
    2. 文本摘要：几句话概述文本完整内容
    3. 标题：适合作为标题的文本
    4. 文本分类：将文本归类到预设的类别（如：热点、财经、科技、体育、娱乐、军事、国际、社会、法制、房产、汽车、教育、文化、旅游、历史、理论、生活、游戏、星座、时尚、情感、其他）
    """

texts = f"""
    英国石油天然气投资公司(UKOG)9日说，英格兰南部地底探测到规模巨大的油田，石油储量或许高达1000亿桶。这家公司的首席执行官史蒂芬·桑德森当天在接受英国媒体采访时表示，该公司认为英格兰南部地区地底储有巨量的石油资源，推测储量在500亿至1000亿桶之间，或许是英国过去30年来发现的最大陆上石油资源。这可是一个惊人的数字。要知道，苏格兰在北海的所有石油公司在过去40年的总产量也只有450亿桶。该公司预计，这些石油资源地下储存深度在2500英尺至3000英尺(762米至914米)之间，其中可以开发的比例为5%至15%，这意味着到2030年，这一地区的石油产量将能够满足英国10%至30%的石油需求。英格兰南部的石油开采活动已有数十年历史，开采地点分布在肯特郡、苏赛克斯郡、萨里郡和汉普郡等地。去年，英国地质勘探局曾发布报告称，英格兰南部地区拥有页岩油资源，储量约为22亿至85亿桶。这一爆炸性的公告发布后，UKOG的股票便开始疯涨。截至4月9日，UKOG的股价从原先的每股1.1便士一路狂飙至3.25便士，涨幅高达261.99%，最高价甚至冲到了4.7便士。股票市值瞬间飙升为原先的3倍，达到1822万英镑。
    """

system_context = f"""
    我现在有一个数据标注任务，描述如下：{field}。
    文本内容如下：{texts}
    请你仔细读取文本内容，先熟悉了解文本的主要内容，再与我的标注任务描述中的任务联系起来得到我们需要的重要内容，并根据这些内容提出尽可能多的问题.问题的设计需满足以下要求：

    1.问题必须基于文本内容，且答案需在文本中明确存在。
    2.问题应覆盖文本中的关键信息，为文本块的核心内容。
    3.问题应清晰、简洁，避免模糊或歧义。
    4.每个问题需独立成句，且不与已提出的问题重复。

    请严格按照以下格式输出你提出的问题，问题为中文：
    1.Query: 问题1
    2.Query: 问题2
    ...
    """

client = OpenAI(api_key="sk-6547400fc2204dd5b5dd82cd91197f96", base_url="https://api.deepseek.com")

response = client.chat.completions.create(
    model="deepseek-reasoner",
    messages=[
        {"role": "user", "content": system_context},
    ],
    stream=False
)

print(response.choices[0].message.reasoning_content)
print(response.choices[0].message.content)

# 嗯，我现在要处理用户给的标注任务，需要仔细分析这篇关于英国石油发现的文章，然后根据任务要求提出问题。首先，我得通读一遍文本，抓住核心信息。

# 文本讲的是英国石油天然气投资公司（UKOG）在英格兰南部发现了可能高达1000亿桶的油田。这可能是英国30年来最大的陆上石油资源。苏格兰北海过去40年的总产量是450亿桶，相比之下这个新发现储量很大。开采深度在762到914米之间，预计到2030年能满足英国10-30%的需求。另外，英国地质勘探局去年报告过该地区的页岩油储量在22-85亿桶。消息发布后，UKOG股价暴涨，从1.1便士涨到3.25便士，最高到4.7便士，市值达到1822万英镑，是原来的三倍。

# 接下来，用户需要四个标注任务：关键词、摘要、标题、分类。但这里的问题是要根据文本内容提出符合要求的问题。问题必须基于文本，答案明确存在，覆盖关键信息，简洁清晰，不重复。

# 首先，确定关键点：公司名称、发现地点、储量规模（500-1000亿）、对比苏格兰北海的数据、开采深度、可开发比例（5-15%）、预计满足英国需求的比例、开采历史地区、英国地质勘探局的报告数据、股价涨幅、最高股价、市值变化。

# 然后，每个关键点转化为问题。例如：

# 1. UKOG在哪个地区发现了油田？答案应该是英格兰南部。
# 2. 预估的石油储量范围是多少？500到1000亿桶。
# 3. 和苏格兰北海的产量对比如何？总产量450亿桶。
# 4. 开采深度范围？762到914米。
# 5. 可开发比例是多少？5-15%。
# 6. 预计2030年能满足英国多少需求？10-30%。
# 7. 开采活动分布在哪些郡？肯特、苏赛克斯、萨里、汉普郡。
# 8. 英国地质勘探局去年的报告中的页岩油储量？22-85亿桶。
# 9. UKOG股价涨幅多少？261.99%。
# 10. 股价最高达到多少？4.7便士。
# 11. 股票市值涨到多少？1822万英镑。
# 12. 这是英国多少年来最大的陆上石油发现？30年。

# 确保每个问题独立，覆盖所有核心内容，不重复。检查是否有遗漏的信息点，比如"到2030年满足需求"是否被涵盖，股价变化的具体数值等。可能还需要确认问题是否明确，比如"UKOG的全称是什么？"但文本中已经给出全称是英国石油天然气投资公司，但用户的问题可能不需要这个，因为答案在文中明确存在。但用户的任务是提问，所以应该包括。不过原文里可能没有问全称，而是直接用了UKOG，所以问题可以问公司全称。但原文第一句就提到了全称，所以可以问："英国石油天然气投资公司的英文缩写是什么？" 但可能用户更关心的是发现的内容，所以可能这个问题不太核心，但根据要求，答案明确存在的话可以提问。不过可能其他问题更重要，需要优先覆盖关键点。

# 现在检查是否有重复或遗漏。比如，关于股价的变化有两个问题：涨幅和最高价。还有市值的增长。这些都是关键点。英国地质勘探局的报告数据也是一个点。开采历史地区的问题可能也需要。总之，生成的问题应该覆盖所有关键数据点，确保每个问题对应文本中的明确信息。
# 1.Query: 英国石油天然气投资公司(UKOG)在哪个地区发现了大规模油田？
# 2.Query: UKOG预估英格兰南部油田的石油储量范围是多少？
# 3.Query: 苏格兰北海地区过去40年的石油总产量是多少？
# 4.Query: 新发现油田的可开采石油比例预计是多少？
# 5.Query: 到2030年，该油田预计能满足英国多大比例的石油需求？
# 6.Query: 英格兰南部石油开采活动主要分布在哪些郡？
# 7.Query: 英国地质勘探局去年报告的页岩油储量范围是多少？
# 8.Query: UKOG股票在公告发布后的最大涨幅是多少？
# 9.Query: UKOG股价在4月9日达到的最高价格是多少？
# 10.Query: 该油田被认为是英国过去多少年来最大的陆上石油发现？
# 11.Query: 新发现油田的地下储存深度范围是多少？
# 12.Query: UKOG股票市值在暴涨后达到多少英镑？